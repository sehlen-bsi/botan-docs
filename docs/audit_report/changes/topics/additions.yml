title: Additions

description: |
  One notable addition is basic support for SSLKEYLOGFILE, which allows for
  debugging of TLS connections by exporting the secrets used to encrypt and
  decrypt traffic. See also `draft-ietf-tls-keylogfile <https://datatracker.ietf.org/doc/draft-ietf-tls-keylogfile/02/>`_.

  Additionally, a new key derivation method based on KMAC has been added. This
  method is defined in NIST.SP.800-56Cr2, Section 4.

patches:
# Introduce Public_Key::raw_public_key_bits()  (@reneme)
- pr: 3985  # https://github.com/randombit/botan/pull/3985
  merge_commit: 2d52a434a97aff21e865bd7d4487800232d85827
  classification: info

# add callback to export secrets for SSLKEYLOGFILE  (@volok-aleksej)
- pr: 4043  # https://github.com/randombit/botan/pull/4043
  merge_commit: 9a5a367c82b8daba4a59861d23517e3a537eeb65
  classification: info

# FIX: some code smells found by clang-tidy  (@reneme)
- pr: 4070  # https://github.com/randombit/botan/pull/4070
  merge_commit: bccd67b986374ecb573c1c933b2cfa36a602166d
  classification: info

# Use sysctlbyname on iOS as well  (@randombit)
- pr: 4018  # https://github.com/randombit/botan/pull/4018
  merge_commit: 19e9ada97714d9030941711976c2200948c5151d
  classification: info

# Add a os_utils helper for locatime->put_time  (@randombit)
- pr: 4011  # https://github.com/randombit/botan/pull/4011
  merge_commit: 660dd6ed8945238dfae97ef5391217001a10204b
  classification: info
  auditer: reneme

# Optimize XTS tweak computation  (@randombit)
- pr: 4057  # https://github.com/randombit/botan/pull/4057
  merge_commit: 36bde7448b05dc555ef4bc0cb6adfbe697cb4870
  classification: info
  auditer: reneme

# One-Step Key Derivation Method with KMAC  (@FAlbertDev)
- pr: 4121  # https://github.com/randombit/botan/pull/4121
  merge_commit: a902bba0b99e336851c543f5e05bc5c64fab61a2
  classification: critical
  comment: |
    Adds the KMAC variant of the One-Step KDM defined in NIST.SP.800-56Cr2,
    Section 4. Also, adds refactoring to reflect that the algorithm definition
    was moved from NIST.SP.800-56Ar2 to NIST.SP.800-56Cr2.

# HMAC and HMAC_DRBG microoptimizations  (@randombit)
- pr: 4144  # https://github.com/randombit/botan/pull/4144
  merge_commit: 18dbe56173ddc6dce36c741ad1072727e5984cad
  classification: relevant
  auditer: reneme

# add RandomNumberGenerator::random_array<>()  (@reneme)
- pr: 4152  # https://github.com/randombit/botan/pull/4152
  merge_commit: 68cda4590ad7804762466a86701dcca710645eff
  classification: info

# Add unrolled 7-word Comba mul/sqr  (@randombit)
- pr: 4156  # https://github.com/randombit/botan/pull/4156
  merge_commit: dda0f95fe0645d93329ff3d102f7ae418696c181
  classification: relevant

# In FrodoKEM-AES, encrypt all of the rows at once instead of block at time  (@randombit)
- pr: 4174  # https://github.com/randombit/botan/pull/4174
  merge_commit: 7486228582e8c81872ce150e089a6106137045ad
  classification: relevant
  comment: |
    Improves the performance of the FrodoKEM-AES especially on platforms that
    don't have hardware AES acceleration.
