title: Continuous Integration

description: |
  Most of these changes are not in scope for this particular audit as they
  change specifics in Botan's CI setup. For instance, adding/removing build
  platforms, tweaking CI runtime behaviour by selectively disabling resource
  intensive tests for certain build configurations and so on.

  Some modifications needed minor adaptions in the production code or
  documentation. Those are marked as 'informational' but none contains
  significant changes to the library's sensitive logic.

patches:
# Use sccache 0.4.0 in CI  (@randombit)
- pr: 3416  # https://github.com/randombit/botan/pull/3416
  classification: out of scope
  auditer: reneme

# Skip running lcov in the coverage CI build  (@randombit)
- pr: 3381  # https://github.com/randombit/botan/pull/3381
  classification: out of scope
  auditer: reneme

# Reduce CI package installs  (@randombit)
- pr: 3371  # https://github.com/randombit/botan/pull/3371
  classification: out of scope
  auditer: reneme

# Deal with codecov flakiness  (@randombit)
- pr: 3370  # https://github.com/randombit/botan/pull/3370
  classification: out of scope
  auditer: reneme

# Move codecov.yml config into .github subdir  (@randombit)
- pr: 3353  # https://github.com/randombit/botan/pull/3353
  classification: out of scope
  auditer: reneme

# Fix removal of the wrong CI job  (@randombit)
- pr: 3250  # https://github.com/randombit/botan/pull/3250
  classification: out of scope

# Drop CI builds that are stuck with GCC 10  (@randombit)
- pr: 3248  # https://github.com/randombit/botan/pull/3248
  classification: out of scope
  auditer: reneme

# Reorganize the CI matrix  (@randombit)
- pr: 3241  # https://github.com/randombit/botan/pull/3241
  classification: out of scope

# Speed up sanitizer builds  (@randombit)
- pr: 3198  # https://github.com/randombit/botan/pull/3198
  classification: info
  auditer: reneme

# Add fuzzers for the Comba multiply and square functions  (@randombit)
- pr: 3160  # https://github.com/randombit/botan/pull/3160
  classification: info
  auditer: reneme

# CI: Use Android NDK provided by GH Actions  (@reneme)
- pr: 3154  # https://github.com/randombit/botan/pull/3154
  classification: out of scope

# Move the emscripten CI build to a Linux target  (@randombit)
- pr: 3148  # https://github.com/randombit/botan/pull/3148
  classification: out of scope

# Use the macos-12 target instead of macos-latest  (@randombit)
- pr: 3122  # https://github.com/randombit/botan/pull/3122
  classification: info

# Limit compiler cache sizes in CI to 200MB  (@randombit)
- pr: 3135  # https://github.com/randombit/botan/pull/3135
  classification: out of scope
  auditer: reneme

# Disable using debug-mode for sanitizer builds  (@randombit)
- pr: 3134  # https://github.com/randombit/botan/pull/3134
  classification: info
  auditer: reneme

# Limit the number of builds we use Boost for  (@randombit)
- pr: 3132  # https://github.com/randombit/botan/pull/3132
  classification: out of scope
  auditer: reneme

# Modify the CI matrix to improve coverage  (@randombit)
- pr: 3127  # https://github.com/randombit/botan/pull/3127
  classification: out of scope
  auditer: reneme

# CI: Run sanitizers on the entire test corpus  (@reneme)
- pr: 3012  # https://github.com/randombit/botan/pull/3012
  classification: info

# Add a RISCV64 cross compilation CI build  (@randombit)
- pr: 3109  # https://github.com/randombit/botan/pull/3109
  classification: out of scope
  auditer: reneme

# Add Linux/ARM compile+run cross compile CI target  (@randombit)
- pr: 3096  # https://github.com/randombit/botan/pull/3096
  classification: out of scope
  auditer: reneme

# Use actions/cache v3 to avoid deprecation issues  (@randombit)
- pr: 3095  # https://github.com/randombit/botan/pull/3095
  classification: out of scope
  auditer: reneme

# Bump GitHub Actions CI target to Ubuntu 22.04  (@randombit)
- pr: 3092  # https://github.com/randombit/botan/pull/3092
  classification: out of scope
  auditer: reneme

# Remove LGTM support (GH #3068)  (@randombit)
- pr: 3087  # https://github.com/randombit/botan/pull/3087
  classification: info
  auditer: reneme

# CI: Use GitHub Actions for Windows builds  (@reneme)
- pr: 3007  # https://github.com/randombit/botan/pull/3007
  classification: info

# Build examples from documentation in CI  (@lieser)
- pr: 3025  # https://github.com/randombit/botan/pull/3025
  classification: info

# CI: Improvements and preparation for Windows on GitHub Actions  (@reneme)
- pr: 3011  # https://github.com/randombit/botan/pull/3011
  classification: info

# Ignore a few more tests under valgrind  (@Jack Lloyd)
- commit: 50845840b1864fcd636ae3b0de85255977a035bf  # https://github.com/randombit/botan/commit/50845840b1864fcd636ae3b0de85255977a035bf
  classification: out of scope
  auditer: reneme

# Skip dsa_kat_verify test under valgrind  (@Jack Lloyd)
- commit: 47f848b0199ad0bf1afa83372baceb2cf626f282  # https://github.com/randombit/botan/commit/47f848b0199ad0bf1afa83372baceb2cf626f282
  classification: out of scope
  auditer: reneme

# Revert "Cancel CiFuzz jobs when a new commit is pushed"  (@Jack Lloyd)
- commit: b699581fdc1dea7345b6a7a01a4f627e091db399  # https://github.com/randombit/botan/commit/b699581fdc1dea7345b6a7a01a4f627e091db399
  classification: out of scope
  auditer: reneme

# Cancel CiFuzz jobs when a new commit is pushed  (@Jack Lloyd)
- commit: 572adf0b1a9c6c73c50f3141403ca635fbf19960  # https://github.com/randombit/botan/commit/572adf0b1a9c6c73c50f3141403ca635fbf19960
  classification: out of scope
  auditer: reneme

# Reduce CiFuzz runtimes somewhat  (@Jack Lloyd)
- commit: 8ec3bd2594afb5954a7bfa7d570503f1c95ccd90  # https://github.com/randombit/botan/commit/8ec3bd2594afb5954a7bfa7d570503f1c95ccd90
  classification: out of scope
  auditer: reneme

# Skip the slow CLI tests in sanitizer mode  (@Jack Lloyd)
- commit: b187b7d5481261e8ca25d9dfcc53686b51b76aa3  # https://github.com/randombit/botan/commit/b187b7d5481261e8ca25d9dfcc53686b51b76aa3
  classification: out of scope
  auditer: reneme

# Remove Linux clang amalgamation build (keep the macOS version)  (@Jack Lloyd)
- commit: 6319feec714f6b508aeeb7039b0bc1d5b5a2857c  # https://github.com/randombit/botan/commit/6319feec714f6b508aeeb7039b0bc1d5b5a2857c
  classification: out of scope
  auditer: reneme

# Skip a few tests that are very slow under arm32 qemu  (@randombit)
- pr: 3373  # https://github.com/randombit/botan/pull/3373
  classification: out of scope
  auditer: reneme
